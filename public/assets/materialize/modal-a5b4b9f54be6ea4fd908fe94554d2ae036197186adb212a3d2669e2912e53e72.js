!function(o){var t=0,e=0,i=function(){return"materialize-modal-overlay-"+ ++e},a={init:function(e){var a={opacity:.5,inDuration:350,outDuration:250,ready:undefined,complete:undefined,dismissible:!0,startingTop:"4%",endingTop:"10%"};return e=o.extend(a,e),this.each(function(){var a=o(this),n=o(this).attr("id")||"#"+o(this).data("target"),c=function(){var i=a.data("overlay-id"),n=o("#"+i);a.removeClass("open"),o("body").css({overflow:"",width:""}),a.find(".modal-close").off("click.close"),o(document).off("keyup.modal"+i),n.velocity({opacity:0},{duration:e.outDuration,queue:!1,ease:"easeOutQuart"});var c={duration:e.outDuration,queue:!1,ease:"easeOutCubic",complete:function(){o(this).css({display:"none"}),"function"==typeof e.complete&&e.complete.call(this,a),n.remove(),t--}};a.hasClass("bottom-sheet")?a.velocity({bottom:"-100%",opacity:0},c):a.velocity({top:e.startingTop,opacity:0,scaleX:.7},c)},s=function(n){var s=o("body"),l=s.innerWidth();if(s.css("overflow","hidden"),s.width(l),!a.hasClass("open")){var d=i(),r=o('<div class="modal-overlay"></div>');lStack=++t,r.attr("id",d).css("z-index",1e3+2*lStack),a.data("overlay-id",d).css("z-index",1e3+2*lStack+1),a.addClass("open"),o("body").append(r),e.dismissible&&(r.click(function(){c()}),o(document).on("keyup.modal"+d,function(o){27===o.keyCode&&c()})),a.find(".modal-close").on("click.close",function(){c()}),r.css({display:"block",opacity:0}),a.css({display:"block",opacity:0}),r.velocity({opacity:e.opacity},{duration:e.inDuration,queue:!1,ease:"easeOutCubic"}),a.data("associated-overlay",r[0]);var u={duration:e.inDuration,queue:!1,ease:"easeOutCubic",complete:function(){"function"==typeof e.ready&&e.ready.call(this,a,n)}};a.hasClass("bottom-sheet")?a.velocity({bottom:"0",opacity:1},u):(o.Velocity.hook(a,"scaleX",.7),a.css({top:e.startingTop}),a.velocity({top:e.endingTop,opacity:1,scaleX:"1"},u))}};o(document).off("click.modalTrigger",'a[href="#'+n+'"], [data-target="'+n+'"]'),o(this).off("openModal"),o(this).off("closeModal"),o(document).on("click.modalTrigger",'a[href="#'+n+'"], [data-target="'+n+'"]',function(t){e.startingTop=(o(this).offset().top-o(window).scrollTop())/1.15,s(o(this)),t.preventDefault()}),o(this).on("openModal",function(){o(this).attr("href")||o(this).data("target");s()}),o(this).on("closeModal",function(){c()})})},open:function(){o(this).trigger("openModal")},close:function(){o(this).trigger("closeModal")}};o.fn.modal=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void o.error("Method "+t+" does not exist on jQuery.modal"):a.init.apply(this,arguments)}}(jQuery);